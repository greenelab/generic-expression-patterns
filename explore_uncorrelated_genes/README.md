# Explore uncorrelated genes

When we compared the correlation between gene percentiles generated by SOPHIE versus the manually curated dataset, we noticed that there was a group of genes that SOPHIE identified as generic but were not found to be generic using the manually curated dataset. In this case, SOPHIE was trained on recount2 (RNA-seq) dataset while the manually curated dataset was using array platform.

We suspect that these genes are due to difference in platforms. Specifically, we believe that these genes are those that are differentially expressed using ribo-depleted vs polyA-selection.

The data used for this anaysis was from the <REPO>.

The first part of this analysis is to obtain the data. There are two options for this:

Github issue: https://github.com/AlexsLemonade/OpenPBTA-analysis/issues/955

**Option 1**:
1. Clone repository by calling ...Locally clone: https://github.com/AlexsLemonade/OpenPBTA-analysis.git
2. Install docker: https://docs.docker.com/buildx/working-with-buildx/
3. Pull latest docker image: `docker pull ccdlopenpbta/open-pbta:latest`
4. Navigate to root of repository: `/home/alexandra/Documents/Repos/OpenPBTA-analysis`
5. Run pre-built docker image:
```
sudo docker run --mount type=bind,target=/home/rstudio/kitematic,source=$PWD -e PASSWORD=<password> -p 8787:8787 ccdlopenpbta/open-pbta:latest
```
6. In RStudio Terminal
Run `bash download-data.sh`
Data files in data/
Build docker: `sudo docker build Dockerfile`
https://docs.docker.com/engine/reference/commandline/build/

7. Get count data with hgnc symbols instead of ensembl ids
```
Rscript analyses/collapse-rnaseq/01-summarize_matrices.R -i data/pbta-gene-counts-rsem-expected_count.polya.rds -g data/gencode.v27.primary_assembly.annotation.gtf.gz -m analyses/collapse-rnaseq/pbta-gene-counts-rsem-expected_counts-collapsed.polya.rds -t analyses/collapse-rnaseq/pbta-gene-counts-rsem-expected_count-collapsed_table.polya.rds
```
Same for stranded file

Save the output files locally


**Option 2:**
1. Download data from CAVATICA (see here). You would just have to set up a free account with CAVATICA and you then you can click the link and see the project.
2. Store R object locally
